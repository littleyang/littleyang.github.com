<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Blog">
<head>
    <meta charset="UTF-8" />
    <meta name="application-name" content="Looking-Glass" />
    <meta name="author" content="LittleYang" />
    <meta name="generator" content="Jekyll 0.12.0" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <meta itemprop="name" content="You-Get：一个YouTube/优酷视频下载工具">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="" />

    <title>You-Get：一个YouTube/优酷视频下载工具</title>

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" />
    <link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico" sizes="57x57" />

    <link rel="author" type="text/html" href="https://plus.google.com/100974147585154622588/about" />
    <link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/3.0/" />

    <!-- Google Web Fonts (not in use) -->
    <!-- link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Droid+Sans' / -->

    <link rel="stylesheet" type="text/css" href="/~css/main.css" media="all" />
    <link rel="stylesheet" type="text/css" href="/~css/mobile.css" media="all and (max-width:1023px)" />

    <!-- Pygments -->
    <link rel="stylesheet" type="text/css" href="/~css/pygments.css" media="all" />

    <!-- Highlight.js -->
    <link rel="stylesheet" href="/~css/tomorrow-night.min.css">
    <script src="/~js/highlight.pack.js"></script>
    <!-- script>hljs.initHighlightingOnLoad();</script -->

    <!-- jQuery & Galleria -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
    <script src="/~plugins/galleria/galleria-1.2.8.min.js"></script>

    <!-- MathJax (not in use) -->
    <!-- script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script -->

    <!-- ShareThis (not in use) -->
    <!-- script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">stLight.options({publisher: "9aabed9c-ac3f-4f96-8f5a-8e7a27307543"}); </script -->

    <!-- Google Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-27086900-1']);
        _gaq.push(['_setDomainName', '.soimort.org']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <script type="text/javascript" src="/~js/main.js"></script>

</head>

<body>
    <!-- load background image (must be put in body) -->
    <script type="text/javascript">
        document.body.style.backgroundImage = "url('http://i.imgur.com/0eQ5v.jpg')";
    </script>

    <nav id="navBarTop">
        <ul class="navBarListLeft">
            <li><a href="/"><img src="/~images/home.png" alt="home" title="Home" class="navDock" height="24" /></a></li>
            <li><a href="/atom.xml" target="_blank"><img src="/~images/feed.png" alt="feed" title="Feed" class="navDock" height="24" /></a></li>
        </ul>

        <ul class="navBarListRight">
            <li style="position: relative; top: -5px"><b>LittleYang</b> on </li>
            <!-- Google+ --><li><a href="https://plus.google.com/107586052733788098083/" target="_blank"><img src="https://ssl.gstatic.com/images/icons/gplus-32.png" alt="gplus" title="Google+" class="navDock" height="24" /></a></li>
            <!-- Twitter --><li><a href="https://twitter.com/soimort" target="_blank"><img src="/~images/twitter.png" alt="twitter" title="Twitter" class="navDock" height="24" /></a></li>
            <!-- Facebook --><!-- li><a href="https://www.facebook.com/soimort" target="_blank"><img src="/~images/facebook.png" alt="facebook" title="Facebook" class="navDock" height="24" /></a></li -->
            <!-- deviantArt --><li><a href="http://soimort.deviantart.com" target="_blank"><img src="/~images/deviantart.png" alt="deviantart" title="deviantART" class="navDock" height="24" /></a></li>
            <!-- GitHub --><li><a href="http://github.com/soimort" target="_blank"><img src="/~images/github.png" alt="github" title="GitHub" class="navDock" height="24" /></a></li>
        </ul>
    </nav>

    <nav id="navBarBottom">
        <div class="navBarListLeft">
            <div style="position: relative; top: 4px; width: 60%">
                © 2013 <a href="http://www.google.com" target="_blank"><b>Little Yang</b></a>. Under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank"><b>CC BY-SA 3.0 License</b></a>.
            </div>
        </div>

        <div class="navBarListRight">
            <div style="position: relative; top: 4px; right: 0">
                 |Powered by <a href="http://jekyllrb.com/" target="_blank"><b>Jekyll</b></a>
            </div>
        </div>
    </nav>

    <div id="divTitle">
    <h1>You-Get：一个YouTube/优酷视频下载工具</h1>
    <p><div class="g-plusone" data-size="medium" data-annotation="none"></div></p>
    <p><b>21 Aug 2012</b>, by <b>Mort</b></p>
    <p></p>
    <div id="divTitleNav">
        <a href="/"><img src="/~images/left-arrow.png" class="navDock" /></a>
    </div>
</div>

<div id="divPost">
    <article id="articlePost">
        <p>以前一直在用youtube-dl下载YouTube的视频，用youku-lixian下载优酷视频，<br>
最近嫌调用两个独立的脚本太麻烦了，遂搞了一个同时支持YouTube和优酷的下载工具（目测是第一个）。</p>

<p>先总结一下现有工具的优缺点：</p>

<ul>
<li>youtube-dl只支持YouTube等国外网站。</li>
<li>youtube-dl允许断点续传。</li>
<li>youtube-dl功能超多，但是很多根本用不到。</li>
<li>youku-lixian只支持优酷等国内网站。</li>
<li>youku-lixian无断点续传功能。</li>
<li>youku-lixian功能有限，但是基本够用。</li>
<li>两者都使用Python 2。（Arch用户表示不太喜欢这个设定）</li>
</ul>

<h2>You-Get：一个Python 3的YouTube/优酷视频下载工具</h2>

<p>GitHub传送门：<a href="https://github.com/soimort/you-get">https://github.com/soimort/you-get</a></p>

<p>该脚本以iambus的<a href="https://github.com/iambus/youku-lixian">优酷下载脚本youku-lixian</a>为基础，YouTube视频地址的抓取算法参考了<a href="https://github.com/davidgaya/youtube_rb">短小精悍的Ruby脚本youtube_rb</a>。</p>

<ul>
<li><strong>增加了对YouTube和Vimeo的支持</strong></li>
<li><strong>实现了断点续传</strong></li>
<li><strong>考虑到某国的特殊国情，允许进行HTTP代理设置</strong></li>
<li><strong>全部代码使用Python 3改写</strong></li>
</ul>

<p>目前根据本人需求，实现了对以下视频站点的支持，以后会继续增加（・∀・）</p>

<ul>
<li>YouTube <a href="http://www.youtube.com">http://www.youtube.com</a></li>
<li>音悦台 <a href="http://www.yinyuetai.com">http://www.yinyuetai.com</a></li>
<li>优酷 <a href="http://www.youku.com">http://www.youku.com</a></li>
<li>土豆 <a href="http://www.tudou.com">http://www.tudou.com</a></li>
</ul>

<p>（0.2版 添加支持）</p>

<ul>
<li>Vimeo <a href="http://vimeo.com">http://vimeo.com</a></li>
<li>AcFun <a href="http://www.acfun.tv">http://www.acfun.tv</a></li>
<li>bilibili <a href="http://www.bilibili.tv">http://www.bilibili.tv</a></li>
<li>CNTV <a href="http://www.cntv.cn">http://www.cntv.cn</a></li>
<li>爱奇艺 <a href="http://www.iqiyi.com">http://www.iqiyi.com</a></li>
<li>酷6网 <a href="http://www.ku6.com">http://www.ku6.com</a></li>
<li>PPTV <a href="http://www.pptv.com">http://www.pptv.com</a></li>
<li>新浪视频 <a href="http://video.sina.com.cn">http://video.sina.com.cn</a></li>
<li>搜狐视频 <a href="http://tv.sohu.com">http://tv.sohu.com</a></li>
<li>56网 <a href="http://www.56.com">http://www.56.com</a></li>
</ul>

<p>（0.2.1版 添加支持）</p>

<ul>
<li>凤凰视频 <a href="http://v.ifeng.com">http://v.ifeng.com</a></li>
</ul>

<p>（0.2.5版 添加支持）</p>

<ul>
<li>Dailymotion <a href="http://dailymotion.com">http://dailymotion.com</a></li>
</ul>

<p>（0.2.10版 添加支持）</p>

<ul>
<li>Google+ <a href="http://plus.google.com">http://plus.google.com</a></li>
</ul>

<h3>安装方式</h3>

<h4>1. 直接下载：<a href="https://github.com/soimort/you-get/zipball/master">https://github.com/soimort/you-get/zipball/master</a></h4>
<div class="highlight"><pre><code class="text">$ unzip soimort-you-get-*.zip 
$ cd soimort-you-get-*/

$ ./you-get --help
</code></pre></div>
<h4>2. 从Git安装</h4>
<div class="highlight"><pre><code class="text">$ git clone git://github.com/soimort/you-get.git
$ cd you-get/

$ ./you-get --help
</code></pre></div>
<h4>3. 通过<a href="http://www.pip-installer.org/">Pip</a>安装</h4>
<div class="highlight"><pre><code class="text">$ pip install you-get

$ you-get --help
</code></pre></div>
<h4>4. 通过<a href="http://pypi.python.org/pypi/setuptools">EasyInstall</a>安装</h4>
<div class="highlight"><pre><code class="text">$ easy_install you-get

$ you-get --help
</code></pre></div>
<p><img src="http://i.imgur.com/kZi4s.png" alt="Screenshot"></p>

<h3>如何下载视频</h3>

<p>（以下命令均以Linux shell为例……Windows用户请自行脑补正确的命令格式）</p>

<p>显示视频信息，但不进行下载（<code>-i</code>或<code>--info</code>选项）：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -i http://www.yinyuetai.com/video/463772
</code></pre></div>
<p>下载视频：</p>
<div class="highlight"><pre><code class="text">$ ./you-get http://www.yinyuetai.com/video/463772
</code></pre></div>
<p>下载多个视频：</p>
<div class="highlight"><pre><code class="text">$ ./you-get http://www.yinyuetai.com/video/463772 http://www.yinyuetai.com/video/471500
</code></pre></div>
<p>若当前目录下已有与视频标题同名的文件，下载时会自动跳过。若有同名的<code>.download</code>临时文件，程序会从上次中断处开始下载。
如要强制重新下载该视频，可使用<code>-f</code>（<code>--force</code>）选项：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -f http://www.yinyuetai.com/video/463772
</code></pre></div>
<p><code>-l</code>（<code>--playlist</code>）选项用于下载播放列表（只对某些网站适用）：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -l http://www.youku.com/playlist_show/id_5344313.html
</code></pre></div>
<p><strong>注：从0.1.3以后的版本起，<code>-l</code>选项不再必须。You-Get可以自动识别并处理播放列表的下载。</strong></p>

<p>指定视频文件的下载目录：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -o ~/Downloads http://www.yinyuetai.com/video/463772
</code></pre></div>
<p>显示详细帮助：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -h
</code></pre></div>
<h3>如何设置代理</h3>

<p>默认情况下，Python自动使用系统的代理配置。可以通过环境变量<code>http_proxy</code>来设置系统的HTTP代理。</p>

<p><code>-x</code>（<code>--http-proxy</code>）选项用于手动指定You-Get所使用的HTTP代理。例如：GoAgent的代理服务器是<code>http://127.0.0.1:8087</code>，则使用该代理下载某YouTube视频的命令是：</p>
<div class="highlight"><pre><code class="text">$ ./you-get -x 127.0.0.1:8087 http://www.youtube.com/watch?v=KbtO_Ayjw0M
</code></pre></div>
<p>Windows下的自由门等翻墙软件会自动设置系统全局代理，因此无需指定HTTP代理即可下载YouTube视频：</p>
<div class="highlight"><pre><code class="text">$ ./you-get http://www.youtube.com/watch?v=KbtO_Ayjw0M
</code></pre></div>
<p>如果不希望程序在下载过程中使用任何代理（包括系统的代理配置），可以显式地指定<code>--no-proxy</code>选项：</p>
<div class="highlight"><pre><code class="text">$ ./you-get --no-proxy http://v.youku.com/v_show/id_XMjI0ODc1NTc2.html
</code></pre></div>
<h3>断点续传</h3>

<p>下载未完成时意外中止（因为网络中断或程序被强行终止等），在目标路径中会有一个扩展名为<code>.download</code>的临时文件。</p>

<p>下次运行只要在目标路径中找到相应的<code>.download</code>临时文件，程序会自动从中断处继续下载。（除非指定了<code>-f</code>选项）</p>

<h3>许可证</h3>

<p>源码在MIT License下发布。</p>

<p><a href="https://github.com/soimort/you-get"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a></p>

    </article>
    
    
    <article id="articlePost" style="padding-bottom: 0">
        <div id="divDisqus">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'soimort';
                
                var disqus_url = 'http://www.soimort.org/tech-blog/2012/08/21/you-get.html';
                
                
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </article>
    
</div>


</body>
</html>
